<!DOCTYPE html><html lang="de"><head>  <meta charset="UTF-8">  <meta name="viewport" content="width=device-width, initial-scale=1.0">  <title>Verbesserte Büchersuche</title>  <style>    body {      font-family: Arial, sans-serif;      background-color: #f8f8f8;      padding: 20px;      max-width: 800px;      margin: 0 auto;      text-align: center;    }    h1 {      color: #2c3e50;      margin-bottom: 20px;    }    .search-container {      margin-bottom: 20px;    }    #suchfeld {      padding: 10px;      width: 300px;      font-size: 16px;      border: 1px solid #ddd;      border-radius: 4px;    }    #suchbutton {      padding: 10px 20px;      background-color: #4CAF50;      color: white;      border: none;      border-radius: 4px;      cursor: pointer;      margin-left: 10px;    }    .sort-controls {      margin: 15px 0;    }    .sort-btn {      padding: 8px 15px;      background: #f0f0f0;      border: 1px solid #ddd;      border-radius: 4px;      cursor: pointer;      margin: 0 5px;    }    .sort-btn.active {      background: #4CAF50;      color: white;    }    #buecherListe {      list-style: none;      padding: 0;      text-align: left;    }    #buecherListe li {      background: white;      padding: 15px;      margin-bottom: 10px;      border-radius: 4px;      box-shadow: 0 2px 4px rgba(0,0,0,0.1);    }    .book-cover {      height: 100px;      float: left;      margin-right: 15px;    }  </style></head><body>  <h1> Büchersuche mit Sortierung</h1>    <div class="search-container">    <input type="text" id="suchfeld" placeholder="Autor eingeben..." autocomplete="off">    <button id="suchbutton" type="button">Suchen</button>  </div>    <div class="sort-controls">    <button id="sortNewest" class="sort-btn active">Neueste zuerst</button>    <button id="sortOldest" class="sort-btn">Älteste zuerst</button>  </div>    <ul id="buecherListe"></ul>
  <script>    document.addEventListener('DOMContentLoaded', () => {      const suchbutton = document.getElementById('suchbutton');      const suchfeld = document.getElementById('suchfeld');      const ergebnisListe = document.getElementById('buecherListe');      let currentResults = [];
      // Suche starten      suchbutton.addEventListener('click', sucheOnline);      suchfeld.addEventListener('keypress', (e) => {        if (e.key === 'Enter') sucheOnline();      });
      async function sucheOnline() {        const eingabe = suchfeld.value.trim();        if (eingabe.length < 2) {          ergebnisListe.innerHTML = '<li>Bitte mindestens 2 Zeichen eingeben</li>';          return;        }
        ergebnisListe.innerHTML = '<li>Suche läuft...</li>';                try {          // Autor-spezifische Suche mit mehr Ergebnissen          const response = await fetch(            `https://openlibrary.org/search.json?author=${encodeURIComponent(eingabe)}&limit=50`          );          const daten = await response.json();                    currentResults = daten.docs            .filter(buch => buch.first_publish_year)            .map(buch => ({              title: buch.title || 'Ohne Titel',              authors: buch.author_name || ['Unbekannter Autor'],              year: buch.first_publish_year,              cover: buch.cover_i                 ? `https://covers.openlibrary.org/b/id/${buch.cover_i}-M.jpg`                 : null            }));                    sortResults('newest');          displayResults();                  } catch (error) {          ergebnisListe.innerHTML = '<li>Fehler bei der Suche</li>';          console.error("Fehler:", error);        }      }
      function sortResults(order) {        currentResults.sort((a, b) =>           order === 'newest' ? b.year - a.year : a.year - b.year        );      }
      function displayResults() {        ergebnisListe.innerHTML = currentResults.map(buch => `          <li>            ${buch.cover ? `<img src="${buch.cover}" class="book-cover" alt="Buchcover">` : ''}            <strong>${buch.title}</strong><br>            <em>${buch.authors.join(', ')}</em><br>            <small>Erscheinungsjahr: ${buch.year}</small>          </li>        `).join('');      }
      // Sortier-Buttons      document.getElementById('sortNewest').addEventListener('click', () => {        sortResults('newest');        displayResults();        updateSortButtons('sortNewest');      });            document.getElementById('sortOldest').addEventListener('click', () => {        sortResults('oldest');        displayResults();        updateSortButtons('sortOldest');      });
      function updateSortButtons(activeId) {        document.querySelectorAll('.sort-btn').forEach(btn => {          btn.classList.toggle('active', btn.id === activeId);        });      }    });  </script></body></html>
