<!DOCTYPE html><html lang="de"><head>  <meta charset="UTF-8">  <meta name="viewport" content="width=device-width, initial-scale=1.0">  <title>Büchersuche mit Sortierung</title>  <style>    /* (Behalte dein bestehendes CSS bei oder füge dies hinzu) */    .sort-controls {      margin: 15px 0;      display: flex;      gap: 10px;      justify-content: center;    }    .sort-btn {      padding: 8px 15px;      background: #f0f0f0;      border: 1px solid #ddd;      border-radius: 4px;      cursor: pointer;    }    .sort-btn.active {      background: #4CAF50;      color: white;    }  </style></head><body>  <!-- Behalte dein bestehendes HTML bei und füge dies hinzu: -->  <div class="sort-controls">    <button id="sortNewest" class="sort-btn active">Neueste zuerst</button>    <button id="sortOldest" class="sort-btn">Älteste zuerst</button>  </div>  <!-- ul#buecherListe bleibt gleich -->
  <script>    document.addEventListener('DOMContentLoaded', () => {      // ... bestehender Code ...            let currentResults = []; // Globale Variable für Suchergebnisse            async function sucheOnline() {        const eingabe = suchfeld.value.trim();        if (eingabe.length < 2) return;                try {          // Erweiterte Suche mit Autor-Fokus          const url = `https://openlibrary.org/search.json?author=${encodeURIComponent(eingabe)}&limit=50`;          const response = await fetch(url);          const daten = await response.json();                    currentResults = daten.docs            .filter(buch => buch.first_publish_year) // Nur Bücher mit Erscheinungsjahr            .map(buch => ({              title: buch.title,              authors: buch.author_name || [],              year: buch.first_publish_year,              cover: buch.cover_i                 ? `https://covers.openlibrary.org/b/id/${buch.cover_i}-M.jpg`                 : null            }));                    sortResults('newest');          displayResults();                  } catch (error) {          console.error("Fehler:", error);        }      }            function sortResults(order) {        currentResults.sort((a, b) =>           order === 'newest' ? b.year - a.year : a.year - b.year        );      }            function displayResults() {        ergebnisListe.innerHTML = currentResults.map(buch => `          <li>            ${buch.cover ? `<img src="${buch.cover}" alt="Cover" style="height: 100px; float: left; margin-right: 15px;">` : ''}            <strong>${buch.title}</strong><br>            <em>${buch.authors.join(', ')}</em><br>            <small>Jahr: ${buch.year}</small>          </li>        `).join('');      }            // Event Listener für Sortierung      document.getElementById('sortNewest').addEventListener('click', () => {        sortResults('newest');        displayResults();        document.querySelectorAll('.sort-btn').forEach(btn => btn.classList.remove('active'));        document.getElementById('sortNewest').classList.add('active');      });            document.getElementById('sortOldest').addEventListener('click', () => {        sortResults('oldest');        displayResults();        document.querySelectorAll('.sort-btn').forEach(btn => btn.classList.remove('active'));        document.getElementById('sortOldest').classList.add('active');      });    });  </script></body></html>
